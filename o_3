
> blockchain@1.0.0 start /home/achadde/sources/javascript/websocket-blockchain
> nodemon main.js

[33m[nodemon] 1.19.1[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching: *.*[39m
[32m[nodemon] starting `node main.js`[39m


Date: 2019-11-14T12:58:48.388Z
dans main InitialPeers [ 'ws://localhost:6001', 'ws://localhost:6002' ]



Entr√©e dans block.js:Block constructor avec index 0 

Sortie  de blockchain.js:getGenesisBlock avec result Block {
  index: 0,
  typeContenu: 'texte',
  contenu: 'Bloc Genesis de websocket-blockchain http 3003 p2p 6003',
  horodatage: 1573736328.393,
  auteurClePublique: 'cl√© publique',
  hashPrecedent: 'hash vide',
  hashCourant:
   '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' }


Entr√©e dans websocket.js:connectToPeers appel√© par main avec 2 newPeers
dans websocket.js:connectToPeers boucle sur peerUrl ws://localhost:6001
Entr√©e dans websocket.js:connectToPeerUrl appel√© par websocket.js:connectToPeers avec peerUrl ws://localhost:6001
Dans websocket.js:connectToPeerUrl cr√©ation de ws.url ws://localhost:6001
Dans websocket.js:connectToPeerUrl ws.readyState 0
Sortie  de  websocket.js:connectToPeerUrl
dans websocket.js:connectToPeers boucle sur peerUrl ws://localhost:6002
Entr√©e dans websocket.js:connectToPeerUrl appel√© par websocket.js:connectToPeers avec peerUrl ws://localhost:6002
Dans websocket.js:connectToPeerUrl cr√©ation de ws.url ws://localhost:6002
Dans websocket.js:connectToPeerUrl ws.readyState 0
Sortie  de  websocket.js:connectToPeerUrl
Sortie  de  websocket.js:connectToPeers


===== Entr√©e dans websocket.js:initHttpServer appel√© par main =====
      Sortie  de websocket.js:initHttpServer


===== Entr√©e dans websocket.js:initP2PServer appel√© par main =====
===== Entr√©e dans websocket.js:initP2PServer avec p2p_port 6003 =====


============ dans websocket.js:initP2PServer cr√©ation du WebSocket.Server en √âcoute du port P2P sur 6003 =====
      Sortie  de  websocket.js:initP2PServer

===== Fin de main =====



===== dans websocket.js:initHttpServer √âcoute sur le port HTTP 3003 =====


===== Entr√©e dans websocket.js:initConnection appel√© par websocket.js:connectToPeerUrl =====


===== Entr√©e dans websocket.js:initConnection nouvelle connexion √† ws://localhost:6001 =====


dans websocket.js:initConnection ws pour ws.url ws://localhost:6001 ajout√© √† A.socket_a
dans websocket.js:initConnection socket_a a 1 sockets


===== Entr√©e dans websocket.js:initMessageHandler appel√© par websocket.js:initConnection =====
===== Entr√©e dans websocket.js:initMessageHandler avec ws.url ws://localhost:6001 =====


dans websocket.js:initMessageHandler il y a 1 sockets


dans websocket.js:initMessageHandler blockChain [ Block {
    index: 0,
    typeContenu: 'texte',
    contenu: 'Bloc Genesis de websocket-blockchain http 3003 p2p 6003',
    horodatage: 1573736328.393,
    auteurClePublique: 'cl√© publique',
    hashPrecedent: 'hash vide',
    hashCourant:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' } ]


      Sortie de websocket.js:initMessageHandler




Entr√©e dans websocket.js:initErrorHandler appel√© par websocket.js:initConnection
Sortie de  websocket.js:initErrorHandler


dans websocket.js:initConnection √©criture de queryChainLengthMsg { type: 0 } dans ws.url ws://localhost:6001


Entr√©e dans blockchain.js:write appel√© par websocket.js:initConnection
Entr√©e dans blockchain.js:write avec ws.url ws://localhost:6001
Entr√©e dans blockchain.js:write avec message { type: 0 }
Sortie  de blockchain.js:write
      Sortie  de websocket.js:initConnection




===== Entr√©e dans websocket.js:initConnection appel√© par websocket.js:connectToPeerUrl =====


===== Entr√©e dans websocket.js:initConnection nouvelle connexion √† ws://localhost:6002 =====


dans websocket.js:initConnection ws pour ws.url ws://localhost:6002 ajout√© √† A.socket_a
dans websocket.js:initConnection socket_a a 2 sockets


===== Entr√©e dans websocket.js:initMessageHandler appel√© par websocket.js:initConnection =====
===== Entr√©e dans websocket.js:initMessageHandler avec ws.url ws://localhost:6002 =====


dans websocket.js:initMessageHandler il y a 2 sockets


dans websocket.js:initMessageHandler blockChain [ Block {
    index: 0,
    typeContenu: 'texte',
    contenu: 'Bloc Genesis de websocket-blockchain http 3003 p2p 6003',
    horodatage: 1573736328.393,
    auteurClePublique: 'cl√© publique',
    hashPrecedent: 'hash vide',
    hashCourant:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' } ]


      Sortie de websocket.js:initMessageHandler




Entr√©e dans websocket.js:initErrorHandler appel√© par websocket.js:initConnection
Sortie de  websocket.js:initErrorHandler


dans websocket.js:initConnection √©criture de queryChainLengthMsg { type: 0 } dans ws.url ws://localhost:6002


Entr√©e dans blockchain.js:write appel√© par websocket.js:initConnection
Entr√©e dans blockchain.js:write avec ws.url ws://localhost:6002
Entr√©e dans blockchain.js:write avec message { type: 0 }
Sortie  de blockchain.js:write
      Sortie  de websocket.js:initConnection


dans websocket.js:initMessageHandler ws.on Message Re√ßu data {"type":0}
dans websocket.js:initMessageHandler message.type 0




Entr√©e dans blockchain.js:responseLatestMsg avec 1 blocs
Sortie  de blockchain.js:responseLatestMsg result { type: 2,
  data:
   '[{"index":0,"typeContenu":"texte","contenu":"Bloc Genesis de websocket-blockchain http 3003 p2p 6003","horodatage":1573736328.393,"auteurClePublique":"cl√© publique","hashPrecedent":"hash vide","hashCourant":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18"}]' }
dans websocket.js:initMessageHandler write dans ws://localhost:6001 de responseLatestMsg { type: 2,
  data:
   '[{"index":0,"typeContenu":"texte","contenu":"Bloc Genesis de websocket-blockchain http 3003 p2p 6003","horodatage":1573736328.393,"auteurClePublique":"cl√© publique","hashPrecedent":"hash vide","hashCourant":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18"}]' }


Entr√©e dans blockchain.js:responseLatestMsg avec 1 blocs
Sortie  de blockchain.js:responseLatestMsg result { type: 2,
  data:
   '[{"index":0,"typeContenu":"texte","contenu":"Bloc Genesis de websocket-blockchain http 3003 p2p 6003","horodatage":1573736328.393,"auteurClePublique":"cl√© publique","hashPrecedent":"hash vide","hashCourant":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18"}]' }


Entr√©e dans blockchain.js:write appel√© par websocket.js:initMessageHandler
Entr√©e dans blockchain.js:write avec ws.url ws://localhost:6001
Entr√©e dans blockchain.js:write avec message { type: 2,
  data:
   '[{"index":0,"typeContenu":"texte","contenu":"Bloc Genesis de websocket-blockchain http 3003 p2p 6003","horodatage":1573736328.393,"auteurClePublique":"cl√© publique","hashPrecedent":"hash vide","hashCourant":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18"}]' }
Sortie  de blockchain.js:write
dans websocket.js:initMessageHandler ws.on Message Re√ßu data {"type":0}
dans websocket.js:initMessageHandler message.type 0




Entr√©e dans blockchain.js:responseLatestMsg avec 1 blocs
Sortie  de blockchain.js:responseLatestMsg result { type: 2,
  data:
   '[{"index":0,"typeContenu":"texte","contenu":"Bloc Genesis de websocket-blockchain http 3003 p2p 6003","horodatage":1573736328.393,"auteurClePublique":"cl√© publique","hashPrecedent":"hash vide","hashCourant":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18"}]' }
dans websocket.js:initMessageHandler write dans ws://localhost:6002 de responseLatestMsg { type: 2,
  data:
   '[{"index":0,"typeContenu":"texte","contenu":"Bloc Genesis de websocket-blockchain http 3003 p2p 6003","horodatage":1573736328.393,"auteurClePublique":"cl√© publique","hashPrecedent":"hash vide","hashCourant":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18"}]' }


Entr√©e dans blockchain.js:responseLatestMsg avec 1 blocs
Sortie  de blockchain.js:responseLatestMsg result { type: 2,
  data:
   '[{"index":0,"typeContenu":"texte","contenu":"Bloc Genesis de websocket-blockchain http 3003 p2p 6003","horodatage":1573736328.393,"auteurClePublique":"cl√© publique","hashPrecedent":"hash vide","hashCourant":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18"}]' }


Entr√©e dans blockchain.js:write appel√© par websocket.js:initMessageHandler
Entr√©e dans blockchain.js:write avec ws.url ws://localhost:6002
Entr√©e dans blockchain.js:write avec message { type: 2,
  data:
   '[{"index":0,"typeContenu":"texte","contenu":"Bloc Genesis de websocket-blockchain http 3003 p2p 6003","horodatage":1573736328.393,"auteurClePublique":"cl√© publique","hashPrecedent":"hash vide","hashCourant":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18"}]' }
Sortie  de blockchain.js:write
dans websocket.js:initMessageHandler ws.on Message Re√ßu data {"type":2,"data":"[{\"index\":0,\"typeContenu\":\"texte\",\"contenu\":\"Bloc Genesis de websocket-blockchain http 3001 p2p 6001\",\"horodatage\":1573736321.793,\"auteurClePublique\":\"cl√© publique\",\"hashPrecedent\":\"hash vide\",\"hashCourant\":\"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18\"}]"}
dans websocket.js:initMessageHandler message.type 2


dans websocket.js:initMessageHandler appel de handleBlockchainResponse


Entr√©e dans websocket.js:handleBlockchainResponse appel√© par websocket.js:initMessageHandler
Entr√©e dans websocket.js:handleBlockchainResponse avec message { type: 2,
  data:
   '[{"index":0,"typeContenu":"texte","contenu":"Bloc Genesis de websocket-blockchain http 3001 p2p 6001","horodatage":1573736321.793,"auteurClePublique":"cl√© publique","hashPrecedent":"hash vide","hashCourant":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18"}]' }


dans websocket.js:handleBlockchainResponse Tous les Blocs re√ßus: [ { index: 0,
    typeContenu: 'texte',
    contenu: 'Bloc Genesis de websocket-blockchain http 3001 p2p 6001',
    horodatage: 1573736321.793,
    auteurClePublique: 'cl√© publique',
    hashPrecedent: 'hash vide',
    hashCourant:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' } ]


dans websocket.js:handleBlockchainResponse Dernier  Bloc stock√©: Block {
  index: 0,
  typeContenu: 'texte',
  contenu: 'Bloc Genesis de websocket-blockchain http 3003 p2p 6003',
  horodatage: 1573736328.393,
  auteurClePublique: 'cl√© publique',
  hashPrecedent: 'hash vide',
  hashCourant:
   '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' }


dans websocket.js:handleBlockchainResponse Index du dernier block: 0
dans websocket.js:handleBlockchainResponse Index du block    re√ßu: 0


dans websocket.js:handleBlockchainResponse La blockchain a re√ßu un Bloc Genesis (index = 0)
dans websocket.js:handleBlockchainResponse l'horodatage du Bloc re√ßu ( 1573736321.793 ) < √† celui Bloc courant ( 1573736328.393 ) le remplacer


Entr√©e dans blockchain.js:replaceChain appel√© par websocket.js:handleBlockchainResponse
Entr√©e dans blockchain.js:replaceChain avec newBlocks [ { index: 0,
    typeContenu: 'texte',
    contenu: 'Bloc Genesis de websocket-blockchain http 3001 p2p 6001',
    horodatage: 1573736321.793,
    auteurClePublique: 'cl√© publique',
    hashPrecedent: 'hash vide',
    hashCourant:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' } ]


Entr√©e dans blockchain.js:isValidChain avec blockchainToValidate [ { index: 0,
    typeContenu: 'texte',
    contenu: 'Bloc Genesis de websocket-blockchain http 3001 p2p 6001',
    horodatage: 1573736321.793,
    auteurClePublique: 'cl√© publique',
    hashPrecedent: 'hash vide',
    hashCourant:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' } ]



Entr√©e dans block.js:Block constructor avec index 0 

Sortie  de blockchain.js:getGenesisBlock avec result Block {
  index: 0,
  typeContenu: 'texte',
  contenu: 'Bloc Genesis de websocket-blockchain http 3003 p2p 6003',
  horodatage: 1573736328.42,
  auteurClePublique: 'cl√© publique',
  hashPrecedent: 'hash vide',
  hashCourant:
   '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' }


dans blockchain.js:isValidChain genesisBlockToValidate { index: 0,
  typeContenu: 'texte',
  contenu: 'Bloc Genesis de websocket-blockchain http 3001 p2p 6001',
  horodatage: 1573736321.793,
  auteurClePublique: 'cl√© publique',
  hashPrecedent: 'hash vide',
  hashCourant:
   '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' }
dans blockchain.js:isValidChain tandis que genesisBlockCurrent Block {
  index: 0,
  typeContenu: 'texte',
  contenu: 'Bloc Genesis de websocket-blockchain http 3003 p2p 6003',
  horodatage: 1573736328.42,
  auteurClePublique: 'cl√© publique',
  hashPrecedent: 'hash vide',
  hashCourant:
   '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' }


dans blockchain.js:isValidChain genesisBlockToValidate.horodatage 1573736321.793
dans blockchain.js:isValidChain    genesisBlockCurrent.horodatage 1573736328.42
Sortie  de blockchain.js:isValidChain avec result true
dans blockchain.js:replaceChain areValidNewBlocks true
dans blockchain.js:replaceChain newBlocks.length 1
dans blockchain.js:replaceChain blockChain.length 1


Entr√©e dans blockchain.js:isValidChain avec blockchainToValidate [ { index: 0,
    typeContenu: 'texte',
    contenu: 'Bloc Genesis de websocket-blockchain http 3001 p2p 6001',
    horodatage: 1573736321.793,
    auteurClePublique: 'cl√© publique',
    hashPrecedent: 'hash vide',
    hashCourant:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' } ]



Entr√©e dans block.js:Block constructor avec index 0 

Sortie  de blockchain.js:getGenesisBlock avec result Block {
  index: 0,
  typeContenu: 'texte',
  contenu: 'Bloc Genesis de websocket-blockchain http 3003 p2p 6003',
  horodatage: 1573736328.421,
  auteurClePublique: 'cl√© publique',
  hashPrecedent: 'hash vide',
  hashCourant:
   '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' }


dans blockchain.js:isValidChain genesisBlockToValidate { index: 0,
  typeContenu: 'texte',
  contenu: 'Bloc Genesis de websocket-blockchain http 3001 p2p 6001',
  horodatage: 1573736321.793,
  auteurClePublique: 'cl√© publique',
  hashPrecedent: 'hash vide',
  hashCourant:
   '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' }
dans blockchain.js:isValidChain tandis que genesisBlockCurrent Block {
  index: 0,
  typeContenu: 'texte',
  contenu: 'Bloc Genesis de websocket-blockchain http 3003 p2p 6003',
  horodatage: 1573736328.421,
  auteurClePublique: 'cl√© publique',
  hashPrecedent: 'hash vide',
  hashCourant:
   '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' }


dans blockchain.js:isValidChain genesisBlockToValidate.horodatage 1573736321.793
dans blockchain.js:isValidChain    genesisBlockCurrent.horodatage 1573736328.421
Sortie  de blockchain.js:isValidChain avec result true


Entr√©e dans blockchain.js:isValidChain avec blockchainToValidate [ { index: 0,
    typeContenu: 'texte',
    contenu: 'Bloc Genesis de websocket-blockchain http 3001 p2p 6001',
    horodatage: 1573736321.793,
    auteurClePublique: 'cl√© publique',
    hashPrecedent: 'hash vide',
    hashCourant:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' } ]



Entr√©e dans block.js:Block constructor avec index 0 

Sortie  de blockchain.js:getGenesisBlock avec result Block {
  index: 0,
  typeContenu: 'texte',
  contenu: 'Bloc Genesis de websocket-blockchain http 3003 p2p 6003',
  horodatage: 1573736328.421,
  auteurClePublique: 'cl√© publique',
  hashPrecedent: 'hash vide',
  hashCourant:
   '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' }


dans blockchain.js:isValidChain genesisBlockToValidate { index: 0,
  typeContenu: 'texte',
  contenu: 'Bloc Genesis de websocket-blockchain http 3001 p2p 6001',
  horodatage: 1573736321.793,
  auteurClePublique: 'cl√© publique',
  hashPrecedent: 'hash vide',
  hashCourant:
   '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' }
dans blockchain.js:isValidChain tandis que genesisBlockCurrent Block {
  index: 0,
  typeContenu: 'texte',
  contenu: 'Bloc Genesis de websocket-blockchain http 3003 p2p 6003',
  horodatage: 1573736328.421,
  auteurClePublique: 'cl√© publique',
  hashPrecedent: 'hash vide',
  hashCourant:
   '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' }


dans blockchain.js:isValidChain genesisBlockToValidate.horodatage 1573736321.793
dans blockchain.js:isValidChain    genesisBlockCurrent.horodatage 1573736328.421
Sortie  de blockchain.js:isValidChain avec result true
dans blockchain.js:replaceChain La blockchain re√ßue est valide.
dans blockchain.js:replaceChain Remplacer la blockchain actuelle par la blockchain re√ßue.


Entr√©e dans blockchain.js:responseLatestMsg avec 1 blocs
Sortie  de blockchain.js:responseLatestMsg result { type: 2,
  data:
   '[{"index":0,"typeContenu":"texte","contenu":"Bloc Genesis de websocket-blockchain http 3001 p2p 6001","horodatage":1573736321.793,"auteurClePublique":"cl√© publique","hashPrecedent":"hash vide","hashCourant":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18"}]' }


Entr√©e dans blockchain.js:broadcast appel√© par blockchain.js:replaceChain


Entr√©e dans blockchain.js:broadcast avec message { type: 2,
  data:
   '[{"index":0,"typeContenu":"texte","contenu":"Bloc Genesis de websocket-blockchain http 3001 p2p 6001","horodatage":1573736321.793,"auteurClePublique":"cl√© publique","hashPrecedent":"hash vide","hashCourant":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18"}]' }


dans blockchain.js:broadcast il y a 2 sockets
dans blockchain.js:broadcast √©criture du message dans le socket ws://localhost:6001


Entr√©e dans blockchain.js:write appel√© par blockchain.js:broadcast
Entr√©e dans blockchain.js:write avec ws.url ws://localhost:6001
Entr√©e dans blockchain.js:write avec message { type: 2,
  data:
   '[{"index":0,"typeContenu":"texte","contenu":"Bloc Genesis de websocket-blockchain http 3001 p2p 6001","horodatage":1573736321.793,"auteurClePublique":"cl√© publique","hashPrecedent":"hash vide","hashCourant":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18"}]' }
Sortie  de blockchain.js:write
dans blockchain.js:broadcast √©criture du message dans le socket ws://localhost:6002


Entr√©e dans blockchain.js:write appel√© par blockchain.js:broadcast
Entr√©e dans blockchain.js:write avec ws.url ws://localhost:6002
Entr√©e dans blockchain.js:write avec message { type: 2,
  data:
   '[{"index":0,"typeContenu":"texte","contenu":"Bloc Genesis de websocket-blockchain http 3001 p2p 6001","horodatage":1573736321.793,"auteurClePublique":"cl√© publique","hashPrecedent":"hash vide","hashCourant":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18"}]' }
Sortie  de blockchain.js:write
Sortie  de blockchain.js:broadcast
Sortie  de blockchain.js:replaceChain


Blockchain:
[ { index: 0,
    typeContenu: 'texte',
    contenu: 'Bloc Genesis de websocket-blockchain http 3001 p2p 6001',
    horodatage: 1573736321.793,
    auteurClePublique: 'cl√© publique',
    hashPrecedent: 'hash vide',
    hashCourant:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' } ]


Sortie  de websocket.js:handleBlockchainResponse


===== Bloc # 0 fin de handleBlockchainResponse =====
dans websocket.js:initMessageHandler ws.on Message Re√ßu data {"type":2,"data":"[{\"index\":0,\"typeContenu\":\"texte\",\"contenu\":\"Bloc Genesis de websocket-blockchain http 3001 p2p 6001\",\"horodatage\":1573736321.793,\"auteurClePublique\":\"cl√© publique\",\"hashPrecedent\":\"hash vide\",\"hashCourant\":\"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18\"}]"}
dans websocket.js:initMessageHandler message.type 2


dans websocket.js:initMessageHandler appel de handleBlockchainResponse


Entr√©e dans websocket.js:handleBlockchainResponse appel√© par websocket.js:initMessageHandler
Entr√©e dans websocket.js:handleBlockchainResponse avec message { type: 2,
  data:
   '[{"index":0,"typeContenu":"texte","contenu":"Bloc Genesis de websocket-blockchain http 3001 p2p 6001","horodatage":1573736321.793,"auteurClePublique":"cl√© publique","hashPrecedent":"hash vide","hashCourant":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18"}]' }


dans websocket.js:handleBlockchainResponse Tous les Blocs re√ßus: [ { index: 0,
    typeContenu: 'texte',
    contenu: 'Bloc Genesis de websocket-blockchain http 3001 p2p 6001',
    horodatage: 1573736321.793,
    auteurClePublique: 'cl√© publique',
    hashPrecedent: 'hash vide',
    hashCourant:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' } ]


dans websocket.js:handleBlockchainResponse Dernier  Bloc stock√©: { index: 0,
  typeContenu: 'texte',
  contenu: 'Bloc Genesis de websocket-blockchain http 3001 p2p 6001',
  horodatage: 1573736321.793,
  auteurClePublique: 'cl√© publique',
  hashPrecedent: 'hash vide',
  hashCourant:
   '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' }


dans websocket.js:handleBlockchainResponse Index du dernier block: 0
dans websocket.js:handleBlockchainResponse Index du block    re√ßu: 0


dans websocket.js:handleBlockchainResponse La blockchain a re√ßu un Bloc Genesis (index = 0)


Blockchain:
[ { index: 0,
    typeContenu: 'texte',
    contenu: 'Bloc Genesis de websocket-blockchain http 3001 p2p 6001',
    horodatage: 1573736321.793,
    auteurClePublique: 'cl√© publique',
    hashPrecedent: 'hash vide',
    hashCourant:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' } ]


Sortie  de websocket.js:handleBlockchainResponse


===== Bloc # 0 fin de handleBlockchainResponse =====
dans websocket.js:initMessageHandler ws.on Message Re√ßu data {"type":2,"data":"[{\"index\":1,\"typeContenu\":\"texte\",\"contenu\":\"Donn√©es du premier block de websocket-blockchain\",\"horodatage\":1573736331.276,\"auteurClePublique\":\"cl√© publique\",\"hashPrecedent\":\"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18\",\"hashCourant\":\"713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633\"}]"}
dans websocket.js:initMessageHandler message.type 2


dans websocket.js:initMessageHandler appel de handleBlockchainResponse


Entr√©e dans websocket.js:handleBlockchainResponse appel√© par websocket.js:initMessageHandler
Entr√©e dans websocket.js:handleBlockchainResponse avec message { type: 2,
  data:
   '[{"index":1,"typeContenu":"texte","contenu":"Donn√©es du premier block de websocket-blockchain","horodatage":1573736331.276,"auteurClePublique":"cl√© publique","hashPrecedent":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18","hashCourant":"713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633"}]' }


dans websocket.js:handleBlockchainResponse Tous les Blocs re√ßus: [ { index: 1,
    typeContenu: 'texte',
    contenu: 'Donn√©es du premier block de websocket-blockchain',
    horodatage: 1573736331.276,
    auteurClePublique: 'cl√© publique',
    hashPrecedent:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18',
    hashCourant:
     '713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633' } ]


dans websocket.js:handleBlockchainResponse Dernier  Bloc stock√©: { index: 0,
  typeContenu: 'texte',
  contenu: 'Bloc Genesis de websocket-blockchain http 3001 p2p 6001',
  horodatage: 1573736321.793,
  auteurClePublique: 'cl√© publique',
  hashPrecedent: 'hash vide',
  hashCourant:
   '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' }


dans websocket.js:handleBlockchainResponse Index du dernier block: 0
dans websocket.js:handleBlockchainResponse Index du block    re√ßu: 1


dans websocket.js:handleBlockchainResponse index du dernier Bloc de la blockchain : 0
dans websocket.js:handleBlockchainResponse index du bloc re√ßu par le pair : 1
dans websocket.js:handleBlockchainResponse Les Hashes correspondent. Nous pouvons appondre le bloc re√ßu √† notre cha√Æne et le diffuser


Entr√©e dans blockchain.js:responseLatestMsg avec 2 blocs
Sortie  de blockchain.js:responseLatestMsg result { type: 2,
  data:
   '[{"index":1,"typeContenu":"texte","contenu":"Donn√©es du premier block de websocket-blockchain","horodatage":1573736331.276,"auteurClePublique":"cl√© publique","hashPrecedent":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18","hashCourant":"713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633"}]' }


Entr√©e dans blockchain.js:broadcast appel√© par websocket.js:handleBlockchainResponse


Entr√©e dans blockchain.js:broadcast avec message { type: 2,
  data:
   '[{"index":1,"typeContenu":"texte","contenu":"Donn√©es du premier block de websocket-blockchain","horodatage":1573736331.276,"auteurClePublique":"cl√© publique","hashPrecedent":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18","hashCourant":"713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633"}]' }


dans blockchain.js:broadcast il y a 2 sockets
dans blockchain.js:broadcast √©criture du message dans le socket ws://localhost:6001


Entr√©e dans blockchain.js:write appel√© par blockchain.js:broadcast
Entr√©e dans blockchain.js:write avec ws.url ws://localhost:6001
Entr√©e dans blockchain.js:write avec message { type: 2,
  data:
   '[{"index":1,"typeContenu":"texte","contenu":"Donn√©es du premier block de websocket-blockchain","horodatage":1573736331.276,"auteurClePublique":"cl√© publique","hashPrecedent":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18","hashCourant":"713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633"}]' }
Sortie  de blockchain.js:write
dans blockchain.js:broadcast √©criture du message dans le socket ws://localhost:6002


Entr√©e dans blockchain.js:write appel√© par blockchain.js:broadcast
Entr√©e dans blockchain.js:write avec ws.url ws://localhost:6002
Entr√©e dans blockchain.js:write avec message { type: 2,
  data:
   '[{"index":1,"typeContenu":"texte","contenu":"Donn√©es du premier block de websocket-blockchain","horodatage":1573736331.276,"auteurClePublique":"cl√© publique","hashPrecedent":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18","hashCourant":"713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633"}]' }
Sortie  de blockchain.js:write
Sortie  de blockchain.js:broadcast


Blockchain:
[ { index: 0,
    typeContenu: 'texte',
    contenu: 'Bloc Genesis de websocket-blockchain http 3001 p2p 6001',
    horodatage: 1573736321.793,
    auteurClePublique: 'cl√© publique',
    hashPrecedent: 'hash vide',
    hashCourant:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' },
  { index: 1,
    typeContenu: 'texte',
    contenu: 'Donn√©es du premier block de websocket-blockchain',
    horodatage: 1573736331.276,
    auteurClePublique: 'cl√© publique',
    hashPrecedent:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18',
    hashCourant:
     '713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633' } ]


Sortie  de websocket.js:handleBlockchainResponse


===== Bloc # 1 fin de handleBlockchainResponse =====
dans websocket.js:initMessageHandler ws.on Message Re√ßu data {"type":2,"data":"[{\"index\":1,\"typeContenu\":\"texte\",\"contenu\":\"Donn√©es du premier block de websocket-blockchain\",\"horodatage\":1573736331.276,\"auteurClePublique\":\"cl√© publique\",\"hashPrecedent\":\"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18\",\"hashCourant\":\"713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633\"}]"}
dans websocket.js:initMessageHandler message.type 2


dans websocket.js:initMessageHandler appel de handleBlockchainResponse


Entr√©e dans websocket.js:handleBlockchainResponse appel√© par websocket.js:initMessageHandler
Entr√©e dans websocket.js:handleBlockchainResponse avec message { type: 2,
  data:
   '[{"index":1,"typeContenu":"texte","contenu":"Donn√©es du premier block de websocket-blockchain","horodatage":1573736331.276,"auteurClePublique":"cl√© publique","hashPrecedent":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18","hashCourant":"713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633"}]' }


dans websocket.js:handleBlockchainResponse Tous les Blocs re√ßus: [ { index: 1,
    typeContenu: 'texte',
    contenu: 'Donn√©es du premier block de websocket-blockchain',
    horodatage: 1573736331.276,
    auteurClePublique: 'cl√© publique',
    hashPrecedent:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18',
    hashCourant:
     '713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633' } ]


dans websocket.js:handleBlockchainResponse Dernier  Bloc stock√©: { index: 1,
  typeContenu: 'texte',
  contenu: 'Donn√©es du premier block de websocket-blockchain',
  horodatage: 1573736331.276,
  auteurClePublique: 'cl√© publique',
  hashPrecedent:
   '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18',
  hashCourant:
   '713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633' }


dans websocket.js:handleBlockchainResponse Index du dernier block: 1
dans websocket.js:handleBlockchainResponse Index du block    re√ßu: 1


dans websocket.js:handleBlockchainResponse La blockchain re√ßue est plus courte ( 1 ) que la blockchain actuelle ( 2 ). Ne rien faire.


Blockchain:
[ { index: 0,
    typeContenu: 'texte',
    contenu: 'Bloc Genesis de websocket-blockchain http 3001 p2p 6001',
    horodatage: 1573736321.793,
    auteurClePublique: 'cl√© publique',
    hashPrecedent: 'hash vide',
    hashCourant:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' },
  { index: 1,
    typeContenu: 'texte',
    contenu: 'Donn√©es du premier block de websocket-blockchain',
    horodatage: 1573736331.276,
    auteurClePublique: 'cl√© publique',
    hashPrecedent:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18',
    hashCourant:
     '713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633' } ]


Sortie  de websocket.js:handleBlockchainResponse


===== Bloc # 1 fin de handleBlockchainResponse =====
dans websocket.js:initMessageHandler ws.on Message Re√ßu data {"type":2,"data":"[{\"index\":2,\"typeContenu\":\"texte\",\"contenu\":\"Donnees du deuxi√®me block de websocket-blockchain\",\"horodatage\":1573736332.798,\"auteurClePublique\":\"cl√© publique\",\"hashPrecedent\":\"713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633\",\"hashCourant\":\"cc0569956198ca2a30feb0aac8607679ca6e109de3af9278acbac36115d9d532\"}]"}
dans websocket.js:initMessageHandler message.type 2


dans websocket.js:initMessageHandler appel de handleBlockchainResponse


Entr√©e dans websocket.js:handleBlockchainResponse appel√© par websocket.js:initMessageHandler
Entr√©e dans websocket.js:handleBlockchainResponse avec message { type: 2,
  data:
   '[{"index":2,"typeContenu":"texte","contenu":"Donnees du deuxi√®me block de websocket-blockchain","horodatage":1573736332.798,"auteurClePublique":"cl√© publique","hashPrecedent":"713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633","hashCourant":"cc0569956198ca2a30feb0aac8607679ca6e109de3af9278acbac36115d9d532"}]' }


dans websocket.js:handleBlockchainResponse Tous les Blocs re√ßus: [ { index: 2,
    typeContenu: 'texte',
    contenu: 'Donnees du deuxi√®me block de websocket-blockchain',
    horodatage: 1573736332.798,
    auteurClePublique: 'cl√© publique',
    hashPrecedent:
     '713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633',
    hashCourant:
     'cc0569956198ca2a30feb0aac8607679ca6e109de3af9278acbac36115d9d532' } ]


dans websocket.js:handleBlockchainResponse Dernier  Bloc stock√©: { index: 1,
  typeContenu: 'texte',
  contenu: 'Donn√©es du premier block de websocket-blockchain',
  horodatage: 1573736331.276,
  auteurClePublique: 'cl√© publique',
  hashPrecedent:
   '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18',
  hashCourant:
   '713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633' }


dans websocket.js:handleBlockchainResponse Index du dernier block: 1
dans websocket.js:handleBlockchainResponse Index du block    re√ßu: 2


dans websocket.js:handleBlockchainResponse index du dernier Bloc de la blockchain : 1
dans websocket.js:handleBlockchainResponse index du bloc re√ßu par le pair : 2
dans websocket.js:handleBlockchainResponse Les Hashes correspondent. Nous pouvons appondre le bloc re√ßu √† notre cha√Æne et le diffuser


Entr√©e dans blockchain.js:responseLatestMsg avec 3 blocs
Sortie  de blockchain.js:responseLatestMsg result { type: 2,
  data:
   '[{"index":2,"typeContenu":"texte","contenu":"Donnees du deuxi√®me block de websocket-blockchain","horodatage":1573736332.798,"auteurClePublique":"cl√© publique","hashPrecedent":"713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633","hashCourant":"cc0569956198ca2a30feb0aac8607679ca6e109de3af9278acbac36115d9d532"}]' }


Entr√©e dans blockchain.js:broadcast appel√© par websocket.js:handleBlockchainResponse


Entr√©e dans blockchain.js:broadcast avec message { type: 2,
  data:
   '[{"index":2,"typeContenu":"texte","contenu":"Donnees du deuxi√®me block de websocket-blockchain","horodatage":1573736332.798,"auteurClePublique":"cl√© publique","hashPrecedent":"713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633","hashCourant":"cc0569956198ca2a30feb0aac8607679ca6e109de3af9278acbac36115d9d532"}]' }


dans blockchain.js:broadcast il y a 2 sockets
dans blockchain.js:broadcast √©criture du message dans le socket ws://localhost:6001


Entr√©e dans blockchain.js:write appel√© par blockchain.js:broadcast
Entr√©e dans blockchain.js:write avec ws.url ws://localhost:6001
Entr√©e dans blockchain.js:write avec message { type: 2,
  data:
   '[{"index":2,"typeContenu":"texte","contenu":"Donnees du deuxi√®me block de websocket-blockchain","horodatage":1573736332.798,"auteurClePublique":"cl√© publique","hashPrecedent":"713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633","hashCourant":"cc0569956198ca2a30feb0aac8607679ca6e109de3af9278acbac36115d9d532"}]' }
Sortie  de blockchain.js:write
dans blockchain.js:broadcast √©criture du message dans le socket ws://localhost:6002


Entr√©e dans blockchain.js:write appel√© par blockchain.js:broadcast
Entr√©e dans blockchain.js:write avec ws.url ws://localhost:6002
Entr√©e dans blockchain.js:write avec message { type: 2,
  data:
   '[{"index":2,"typeContenu":"texte","contenu":"Donnees du deuxi√®me block de websocket-blockchain","horodatage":1573736332.798,"auteurClePublique":"cl√© publique","hashPrecedent":"713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633","hashCourant":"cc0569956198ca2a30feb0aac8607679ca6e109de3af9278acbac36115d9d532"}]' }
Sortie  de blockchain.js:write
Sortie  de blockchain.js:broadcast


Blockchain:
[ { index: 0,
    typeContenu: 'texte',
    contenu: 'Bloc Genesis de websocket-blockchain http 3001 p2p 6001',
    horodatage: 1573736321.793,
    auteurClePublique: 'cl√© publique',
    hashPrecedent: 'hash vide',
    hashCourant:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' },
  { index: 1,
    typeContenu: 'texte',
    contenu: 'Donn√©es du premier block de websocket-blockchain',
    horodatage: 1573736331.276,
    auteurClePublique: 'cl√© publique',
    hashPrecedent:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18',
    hashCourant:
     '713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633' },
  { index: 2,
    typeContenu: 'texte',
    contenu: 'Donnees du deuxi√®me block de websocket-blockchain',
    horodatage: 1573736332.798,
    auteurClePublique: 'cl√© publique',
    hashPrecedent:
     '713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633',
    hashCourant:
     'cc0569956198ca2a30feb0aac8607679ca6e109de3af9278acbac36115d9d532' } ]


Sortie  de websocket.js:handleBlockchainResponse


===== Bloc # 2 fin de handleBlockchainResponse =====
dans websocket.js:initMessageHandler ws.on Message Re√ßu data {"type":2,"data":"[{\"index\":2,\"typeContenu\":\"texte\",\"contenu\":\"Donnees du deuxi√®me block de websocket-blockchain\",\"horodatage\":1573736332.798,\"auteurClePublique\":\"cl√© publique\",\"hashPrecedent\":\"713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633\",\"hashCourant\":\"cc0569956198ca2a30feb0aac8607679ca6e109de3af9278acbac36115d9d532\"}]"}
dans websocket.js:initMessageHandler message.type 2


dans websocket.js:initMessageHandler appel de handleBlockchainResponse


Entr√©e dans websocket.js:handleBlockchainResponse appel√© par websocket.js:initMessageHandler
Entr√©e dans websocket.js:handleBlockchainResponse avec message { type: 2,
  data:
   '[{"index":2,"typeContenu":"texte","contenu":"Donnees du deuxi√®me block de websocket-blockchain","horodatage":1573736332.798,"auteurClePublique":"cl√© publique","hashPrecedent":"713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633","hashCourant":"cc0569956198ca2a30feb0aac8607679ca6e109de3af9278acbac36115d9d532"}]' }


dans websocket.js:handleBlockchainResponse Tous les Blocs re√ßus: [ { index: 2,
    typeContenu: 'texte',
    contenu: 'Donnees du deuxi√®me block de websocket-blockchain',
    horodatage: 1573736332.798,
    auteurClePublique: 'cl√© publique',
    hashPrecedent:
     '713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633',
    hashCourant:
     'cc0569956198ca2a30feb0aac8607679ca6e109de3af9278acbac36115d9d532' } ]


dans websocket.js:handleBlockchainResponse Dernier  Bloc stock√©: { index: 2,
  typeContenu: 'texte',
  contenu: 'Donnees du deuxi√®me block de websocket-blockchain',
  horodatage: 1573736332.798,
  auteurClePublique: 'cl√© publique',
  hashPrecedent:
   '713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633',
  hashCourant:
   'cc0569956198ca2a30feb0aac8607679ca6e109de3af9278acbac36115d9d532' }


dans websocket.js:handleBlockchainResponse Index du dernier block: 2
dans websocket.js:handleBlockchainResponse Index du block    re√ßu: 2


dans websocket.js:handleBlockchainResponse La blockchain re√ßue est plus courte ( 1 ) que la blockchain actuelle ( 3 ). Ne rien faire.


Blockchain:
[ { index: 0,
    typeContenu: 'texte',
    contenu: 'Bloc Genesis de websocket-blockchain http 3001 p2p 6001',
    horodatage: 1573736321.793,
    auteurClePublique: 'cl√© publique',
    hashPrecedent: 'hash vide',
    hashCourant:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' },
  { index: 1,
    typeContenu: 'texte',
    contenu: 'Donn√©es du premier block de websocket-blockchain',
    horodatage: 1573736331.276,
    auteurClePublique: 'cl√© publique',
    hashPrecedent:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18',
    hashCourant:
     '713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633' },
  { index: 2,
    typeContenu: 'texte',
    contenu: 'Donnees du deuxi√®me block de websocket-blockchain',
    horodatage: 1573736332.798,
    auteurClePublique: 'cl√© publique',
    hashPrecedent:
     '713617325a89ab9872894210d7dbd61c19f3dd4a88430e5a691e87d55c42a633',
    hashCourant:
     'cc0569956198ca2a30feb0aac8607679ca6e109de3af9278acbac36115d9d532' } ]


Sortie  de websocket.js:handleBlockchainResponse


===== Bloc # 2 fin de handleBlockchainResponse =====
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node main.js`[39m


Date: 2019-11-14T13:01:40.713Z
dans main InitialPeers [ 'ws://localhost:6001', 'ws://localhost:6002' ]



Entr√©e dans block.js:Block constructor avec index 0 

Sortie  de blockchain.js:getGenesisBlock avec result Block {
  index: 0,
  typeContenu: 'texte',
  contenu: 'Bloc Genesis de websocket-blockchain http 3003 p2p 6003',
  horodatage: 1573736500.718,
  auteurClePublique: 'cl√© publique',
  hashPrecedent: 'hash vide',
  hashCourant:
   '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' }


Entr√©e dans websocket.js:connectToPeers appel√© par main avec 2 newPeers
dans websocket.js:connectToPeers boucle sur peerUrl ws://localhost:6001
Entr√©e dans websocket.js:connectToPeerUrl appel√© par websocket.js:connectToPeers avec peerUrl ws://localhost:6001
Dans websocket.js:connectToPeerUrl cr√©ation de ws.url ws://localhost:6001
Dans websocket.js:connectToPeerUrl ws.readyState 0
Sortie  de  websocket.js:connectToPeerUrl
dans websocket.js:connectToPeers boucle sur peerUrl ws://localhost:6002
Entr√©e dans websocket.js:connectToPeerUrl appel√© par websocket.js:connectToPeers avec peerUrl ws://localhost:6002
Dans websocket.js:connectToPeerUrl cr√©ation de ws.url ws://localhost:6002
Dans websocket.js:connectToPeerUrl ws.readyState 0
Sortie  de  websocket.js:connectToPeerUrl
Sortie  de  websocket.js:connectToPeers


===== Entr√©e dans websocket.js:initHttpServer appel√© par main =====
      Sortie  de websocket.js:initHttpServer


===== Entr√©e dans websocket.js:initP2PServer appel√© par main =====
===== Entr√©e dans websocket.js:initP2PServer avec p2p_port 6003 =====


============ dans websocket.js:initP2PServer cr√©ation du WebSocket.Server en √âcoute du port P2P sur 6003 =====
      Sortie  de  websocket.js:initP2PServer

===== Fin de main =====



===== dans websocket.js:initHttpServer √âcoute sur le port HTTP 3003 =====
Dans websocket.js:connectToPeerUrl √©chec de la connexion √† ws ws://localhost:6002


===== Entr√©e dans websocket.js:initConnection appel√© par websocket.js:connectToPeerUrl =====


===== Entr√©e dans websocket.js:initConnection nouvelle connexion √† ws://localhost:6001 =====


dans websocket.js:initConnection ws pour ws.url ws://localhost:6001 ajout√© √† A.socket_a
dans websocket.js:initConnection socket_a a 1 sockets


===== Entr√©e dans websocket.js:initMessageHandler appel√© par websocket.js:initConnection =====
===== Entr√©e dans websocket.js:initMessageHandler avec ws.url ws://localhost:6001 =====


dans websocket.js:initMessageHandler il y a 1 sockets


dans websocket.js:initMessageHandler blockChain [ Block {
    index: 0,
    typeContenu: 'texte',
    contenu: 'Bloc Genesis de websocket-blockchain http 3003 p2p 6003',
    horodatage: 1573736500.718,
    auteurClePublique: 'cl√© publique',
    hashPrecedent: 'hash vide',
    hashCourant:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' } ]


      Sortie de websocket.js:initMessageHandler




Entr√©e dans websocket.js:initErrorHandler appel√© par websocket.js:initConnection
Sortie de  websocket.js:initErrorHandler


dans websocket.js:initConnection √©criture de queryChainLengthMsg { type: 0 } dans ws.url ws://localhost:6001


Entr√©e dans blockchain.js:write appel√© par websocket.js:initConnection
Entr√©e dans blockchain.js:write avec ws.url ws://localhost:6001
Entr√©e dans blockchain.js:write avec message { type: 0 }
Sortie  de blockchain.js:write
      Sortie  de websocket.js:initConnection


dans websocket.js:initMessageHandler ws.on Message Re√ßu data {"type":0}
dans websocket.js:initMessageHandler message.type 0




Entr√©e dans blockchain.js:responseLatestMsg avec 1 blocs
Sortie  de blockchain.js:responseLatestMsg result { type: 2,
  data:
   '[{"index":0,"typeContenu":"texte","contenu":"Bloc Genesis de websocket-blockchain http 3003 p2p 6003","horodatage":1573736500.718,"auteurClePublique":"cl√© publique","hashPrecedent":"hash vide","hashCourant":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18"}]' }
dans websocket.js:initMessageHandler write dans ws://localhost:6001 de responseLatestMsg { type: 2,
  data:
   '[{"index":0,"typeContenu":"texte","contenu":"Bloc Genesis de websocket-blockchain http 3003 p2p 6003","horodatage":1573736500.718,"auteurClePublique":"cl√© publique","hashPrecedent":"hash vide","hashCourant":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18"}]' }


Entr√©e dans blockchain.js:responseLatestMsg avec 1 blocs
Sortie  de blockchain.js:responseLatestMsg result { type: 2,
  data:
   '[{"index":0,"typeContenu":"texte","contenu":"Bloc Genesis de websocket-blockchain http 3003 p2p 6003","horodatage":1573736500.718,"auteurClePublique":"cl√© publique","hashPrecedent":"hash vide","hashCourant":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18"}]' }


Entr√©e dans blockchain.js:write appel√© par websocket.js:initMessageHandler
Entr√©e dans blockchain.js:write avec ws.url ws://localhost:6001
Entr√©e dans blockchain.js:write avec message { type: 2,
  data:
   '[{"index":0,"typeContenu":"texte","contenu":"Bloc Genesis de websocket-blockchain http 3003 p2p 6003","horodatage":1573736500.718,"auteurClePublique":"cl√© publique","hashPrecedent":"hash vide","hashCourant":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18"}]' }
Sortie  de blockchain.js:write
dans websocket.js:initMessageHandler ws.on Message Re√ßu data {"type":2,"data":"[{\"index\":0,\"typeContenu\":\"texte\",\"contenu\":\"Bloc Genesis de websocket-blockchain http 3001 p2p 6001\",\"horodatage\":1573736500.719,\"auteurClePublique\":\"cl√© publique\",\"hashPrecedent\":\"hash vide\",\"hashCourant\":\"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18\"}]"}
dans websocket.js:initMessageHandler message.type 2


dans websocket.js:initMessageHandler appel de handleBlockchainResponse


Entr√©e dans websocket.js:handleBlockchainResponse appel√© par websocket.js:initMessageHandler
Entr√©e dans websocket.js:handleBlockchainResponse avec message { type: 2,
  data:
   '[{"index":0,"typeContenu":"texte","contenu":"Bloc Genesis de websocket-blockchain http 3001 p2p 6001","horodatage":1573736500.719,"auteurClePublique":"cl√© publique","hashPrecedent":"hash vide","hashCourant":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18"}]' }


dans websocket.js:handleBlockchainResponse Tous les Blocs re√ßus: [ { index: 0,
    typeContenu: 'texte',
    contenu: 'Bloc Genesis de websocket-blockchain http 3001 p2p 6001',
    horodatage: 1573736500.719,
    auteurClePublique: 'cl√© publique',
    hashPrecedent: 'hash vide',
    hashCourant:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' } ]


dans websocket.js:handleBlockchainResponse Dernier  Bloc stock√©: Block {
  index: 0,
  typeContenu: 'texte',
  contenu: 'Bloc Genesis de websocket-blockchain http 3003 p2p 6003',
  horodatage: 1573736500.718,
  auteurClePublique: 'cl√© publique',
  hashPrecedent: 'hash vide',
  hashCourant:
   '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' }


dans websocket.js:handleBlockchainResponse Index du dernier block: 0
dans websocket.js:handleBlockchainResponse Index du block    re√ßu: 0


dans websocket.js:handleBlockchainResponse La blockchain a re√ßu un Bloc Genesis (index = 0)


Blockchain:
[ Block {
    index: 0,
    typeContenu: 'texte',
    contenu: 'Bloc Genesis de websocket-blockchain http 3003 p2p 6003',
    horodatage: 1573736500.718,
    auteurClePublique: 'cl√© publique',
    hashPrecedent: 'hash vide',
    hashCourant:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' } ]


Sortie  de websocket.js:handleBlockchainResponse


===== Bloc # 0 fin de handleBlockchainResponse =====
dans websocket.js:initMessageHandler ws.on Message Re√ßu data {"type":2,"data":"[{\"index\":0,\"typeContenu\":\"texte\",\"contenu\":\"Bloc Genesis de websocket-blockchain http 3003 p2p 6003\",\"horodatage\":1573736500.718,\"auteurClePublique\":\"cl√© publique\",\"hashPrecedent\":\"hash vide\",\"hashCourant\":\"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18\"}]"}
dans websocket.js:initMessageHandler message.type 2


dans websocket.js:initMessageHandler appel de handleBlockchainResponse


Entr√©e dans websocket.js:handleBlockchainResponse appel√© par websocket.js:initMessageHandler
Entr√©e dans websocket.js:handleBlockchainResponse avec message { type: 2,
  data:
   '[{"index":0,"typeContenu":"texte","contenu":"Bloc Genesis de websocket-blockchain http 3003 p2p 6003","horodatage":1573736500.718,"auteurClePublique":"cl√© publique","hashPrecedent":"hash vide","hashCourant":"0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18"}]' }


dans websocket.js:handleBlockchainResponse Tous les Blocs re√ßus: [ { index: 0,
    typeContenu: 'texte',
    contenu: 'Bloc Genesis de websocket-blockchain http 3003 p2p 6003',
    horodatage: 1573736500.718,
    auteurClePublique: 'cl√© publique',
    hashPrecedent: 'hash vide',
    hashCourant:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' } ]


dans websocket.js:handleBlockchainResponse Dernier  Bloc stock√©: Block {
  index: 0,
  typeContenu: 'texte',
  contenu: 'Bloc Genesis de websocket-blockchain http 3003 p2p 6003',
  horodatage: 1573736500.718,
  auteurClePublique: 'cl√© publique',
  hashPrecedent: 'hash vide',
  hashCourant:
   '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' }


dans websocket.js:handleBlockchainResponse Index du dernier block: 0
dans websocket.js:handleBlockchainResponse Index du block    re√ßu: 0


dans websocket.js:handleBlockchainResponse La blockchain a re√ßu un Bloc Genesis (index = 0)


Blockchain:
[ Block {
    index: 0,
    typeContenu: 'texte',
    contenu: 'Bloc Genesis de websocket-blockchain http 3003 p2p 6003',
    horodatage: 1573736500.718,
    auteurClePublique: 'cl√© publique',
    hashPrecedent: 'hash vide',
    hashCourant:
     '0043c14bfd8480be0bdf335fb5c0eb75ea70458056908df980902687ff7fcd18' } ]


Sortie  de websocket.js:handleBlockchainResponse


===== Bloc # 0 fin de handleBlockchainResponse =====
